<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Project Report</title>

<script src="site_libs/header-attrs-2.29/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/font-awesome-6.5.2/css/all.min.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet" />
<!-- Gambling Themed Favicon (Slot Machine Emoji) -->
<link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üé∞</text></svg>">

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>







<link rel="stylesheet" href="styles.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Slot Machine</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="home.html">Home</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="data.html">Data Processing</a>
</li>
<li>
  <a href="analysis.html">Analysis</a>
</li>
<li>
  <a href="report.html">Project Report</a>
</li>
<li>
  <a href="about.html">About Us</a>
</li>
<li>
  <a href="https://github.com/zakbillo/sports-betting">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Project Report</h1>

</div>


<div id="group-members" class="section level2">
<h2>Group Members</h2>
<p><strong>Kimia Faroughi (UNI: ksf2129)</strong></p>
<p><strong>Lawrence Zicari (UNI: lz3015)</strong></p>
<p><strong>Sukhman Parhar (UNI: sp4436)</strong></p>
<p><strong>Zakari Billo (UNI: zlb2008)</strong></p>
</div>
<div id="motivation" class="section level2">
<h2>Motivation</h2>
<p>Scandals surrounding gambling in sports have reached the national
stage in recent months, fueled by a meteoric rise over the last few
years that has seemingly gone unchecked by our regulators. Whether you
watch sports, TV, streaming, use social media, or take the subway,
you‚Äôve definitely been exposed to sports betting advertisements in one
way or another. Our analysis focuses on the demographic factors
underlying revenue earned in legal sports betting markets, including
education &amp; income status, age, and proximity to a major sports
team. We then built a model to project the revenue generated in states
with illegal markets and those likely to legalize soon‚Äîsuch as
California. The overarching goal is to illustrate how the potential
profitability of the sports gambling industry might compromise
regulatory oversight.</p>
</div>
<div id="related-work" class="section level2">
<h2>Related Work</h2>
<p>As sports fans, we are increasingly concerned about the direction
sports media is taking in promoting sports gambling. This interest led
to a desire to investigate the market‚Äôs size and scale to assess the
potential of the issue at hand; the recent <a
href="https://www.nytimes.com/2025/10/24/nyregion/nba-sports-betting-gambling-scandal.html">NBA
gambling case</a> particularly inspired us.</p>
</div>
<div id="initial-questions" class="section level2">
<h2>Initial Questions</h2>
<p>We initially wanted to determine whether demographic characteristics
are associated with greater sports gambling, such as age, sex, education
level, income level, and proximity to a major sports team. We also
considered projecting gambling revenue based on demographics (education
&amp; income status, age, and proximity to a major sports team) over
time, as well as the market sizes of sports gambling in states that have
yet to legalize it, such as California.</p>
<p>As we began exploring data sources and developing an analysis plan,
we found it more feasible to focus on an exploratory analysis of
gambling revenue by state and demographic characteristics. Additionally,
we built a predictive model of sports gambling revenue in states that
have yet to legalize it to project the full potential market size of
sports gambling in the U.S.</p>
<p>Due to the lack of granularity in gambling revenue data, we found it
unrealistic to conduct an analysis as detailed as we had initially
intended, given the data available. Additionally, for feasibility, we
decided to focus on the relationship between the 2024 census demographic
data and the gambling revenue data. For these reasons, we found it more
worthwhile to focus on predictive modeling rather than an exploration of
demographic predictors of sports gambling.</p>
</div>
<div id="data" class="section level2">
<h2>Data</h2>
<p><strong>Source, scraping method, cleaning</strong></p>
<p>Gambling data was obtained from <a
href="https://rg.org/statistics/us">Research Ground‚Äôs US sports betting
data</a>. Initial scraping of the website was conducted, but due to
dynamic filters for year and state, only the static data, which included
2024 gambling revenue by state and growth figures for 2025, could be
pulled using this method. In other years, this data was hidden behind
dynamic filters that R could not access with basic scraping tools.
Subsequently, the gambling revenue by state and overall U.S revenue
growth per month and year were manually pulled in for all other years
(2018-2023 for revenue and 2018-2024 for growth). From here, the data
were compiled into a master data set for total revenue per state per
year and revenue market growth per month and year. States that have not
legalized sports betting lack available gambling revenue data and were
thus not included in the initial descriptive analysis.</p>
<p>Demographic data were obtained from the 2024 American Community
Survey (ACS) using the Census API via the tidycensus R package. Each
demographic variable of interest was pulled at the state level using the
corresponding ACS table codes. The collected variables included median
household income, total population size, percentage of adults with a
bachelor‚Äôs degree or higher, percentage of residents aged 20‚Äì34,
percentage of residents living in urban and rural areas, percentage
living below the federal poverty line, percentage male, unemployment
rate, racial and ethnic composition (percent white, Black, Asian, and
Hispanic), median age, broadband internet access, household Gini
coefficient, and housing tenure (% renters and % owners). Because these
variables originate from multiple ACS tables with different formats,
each dataset was cleaned individually, estimates were extracted and
renamed for consistency, and calculated measures (such as percent
bachelor‚Äôs degree or percent in poverty) were derived where necessary.
After cleaning, all demographic datasets were merged into a single
comprehensive dataframe using state names as the key identifier. The
resulting dataset provides a standardized demographic profile for all
U.S. states and Washington, D.C. It serves as the basis for examining
differences between legalized and non-legalized gambling states and for
developing the predictive model.</p>
</div>
<div id="exploratory-analysis" class="section level2">
<h2>Exploratory analysis</h2>
<p><strong>Visualizations of gambling revenue data</strong></p>
<p>Preliminary visualizations of the gambling revenue data were created.
First, a column chart of total US gambling revenue from 2018 to 2024 was
generated, aggregating revenue across all states, showing a steep
increase over that period. Then, a column chart of gambling revenue from
2018 to 2024 was built, color-coded by state, highlighting the top 5
states in 2018 (New Jersey, Pennsylvania, Indiana, Arkansas, and
Mississippi). An ‚Äúother states‚Äù category, which represents all other
states in the U.S., was also coded in. This plot shows that other states
that have entered the sector through legalization have significantly
altered the market landscape and its size. In 2018, the market was
primarily composed of the top 5 states, whereas in 2024, the states that
were once major players now account for only a fraction of the overall
market. This plot also illustrates a steep increase in overall U.S
gambling revenue from 2018 to 2024.</p>
<p>Finally, a visualization was created to show the top 5 states by
gambling revenue each year from 2018 to 2024. This plot shows how the
top 5 largest state markets have shifted over the years and ranks their
overall market share as of 2024. We see that as some states began to
legalize sports gambling during this period, such as New York in 2022,
they emerged as top gambling revenue players through 2024. New Jersey
and Pennsylvania have consistently remained in the top 5 from 2018 to
2024. On the other hand, there has been a steady decline in the ranking
of gambling revenue in Mississippi, Rhode Island, and Arkansas from 2018
to 2024. We see a unique trend in Michigan, which was ranked for the
first time in 2020, spiked in 2021, and then declined to rank 13th by
2024.</p>
<p><strong>Visualizations of census demographic data</strong></p>
<p>Preliminary visualizations of the census demographic data were
generated. Two column charts of total population and total gambling
revenue in 2024 by state were compared side by side. The plot of the
gambling revenue by state showed that arranging states by descending
population size did not yield the same pattern for gambling revenue. For
example, while New Jersey is the 7th-largest state by population, it is
the 3rd-largest in gambling revenue. This suggests that other factors
are at play in predicting states‚Äô gambling revenue.</p>
<p>A line chart of the racial makeup of each state in 2024, showing the
percentages of white, Black, Asian, and Hispanic people, was also
generated, with states arranged in descending order of gambling revenue.
Racial distributions vary across states, with no discernible pattern
between gambling revenue and the racial makeup of these states. A
similar plot of the percentage of the population in poverty and each
state‚Äôs unemployment rate in 2024, ordered by descending gambling
revenue, was also created, with no apparent pattern between gambling
revenue and the economic measures.</p>
</div>
<div id="additional-analysis" class="section level2">
<h2>Additional analysis</h2>
<p><strong>Predictive modeling of sports gambling revenue</strong></p>
<p>To estimate potential gambling markets in states without legalized
sports betting, a predictive modeling approach was implemented using
2024 state-level gambling revenue and demographic characteristics. After
compiling the complete demographic dataset and merging it with observed
gambling revenue, a subset of states with legalized sports betting and
complete revenue data was used as the training dataset. These states
were examples of how demographic and socioeconomic features relate to
actual gambling revenue. Many of these demographic variables were
correlated with each other, such as education and income, so ordinary
linear regression risked instability and inflated variance in the
coefficient estimates. To avoid this, we used the Least Absolute
Shrinkage and Selection Operator (LASSO), a penalized regression model.
LASSO regression has a penalty that shrinks coefficients toward zero,
selecting the strongest predictors and reducing the influence of highly
correlated or weakly informative variables. This improves model
interpretability, reduces overfitting, and allows for stable
predictions. This was also important because the number of predictors
was large relative to the number of observations.</p>
<p>A cross-validated LASSO model was fit using demographic predictors,
including total population, median income, educational attainment,
young-adult population share, urbanization, and poverty rate. Five-fold
cross-validation was used to identify the penalty parameter lambda that
minimized prediction error. The selected model was then applied to all
U.S. states, including those without legalized sports betting. For each
non-legalized state, the model generated an estimated gambling revenue
value that reflects its demographic profile relative to states with
established gambling markets. Predictions were then summarized, ranked,
and compared with the distribution of actual revenue in legalized
states. This provided a framework for identifying states with the
highest projected gambling markets.</p>
</div>
<div id="discussion" class="section level2">
<h2>Discussion</h2>
<p><strong>Findings, expectations, insights</strong></p>
<p>Our analysis has illustrated a dynamic shift in U.S gambling revenue
trends since 2018. The market size grew from $110 million in 2018 to
almost $14 billion by 2024. As more states are integrated into the
market, trends are increasing at a staggering rate. Some of the top 5
states from just a couple of years ago, such as Mississippi and Rhoad
Island, are now fading into the background as central states, including
New York, have legalized and entered the sector. This sharp increase in
the market is easily noticed when consuming sports media today. Ads for
sports gambling are ubiquitous on TV networks and have become synonymous
with all forms of sports coverage. Understanding and quantifying the
size of this market and what it could become is crucial to predicting
its long-term effects on gambling-related issues. As central states like
California and Texas have yet to legalize, the potential for this market
to continue to grow exponentially is very real. Furthermore, our
analysis of census data highlighted specific predictors of increased
sports gambling, such as a high percentage of low-income populations and
a high percentage of young adults (aged 20 to 34), which will help
inform targeted interventions to help reduce the burden of gambling
addiction on these populations.</p>
<p>Our projections show that several non-legalized states have the
demographic capacity to become major contributors to the national
gambling market if sports betting were to be approved. In our analysis,
we found that states such as California, Texas, Florida, and Georgia are
expected to generate more revenue than most established states due to
their large populations, sizable young-adult demographics, and
substantial urban centers. This analysis shows how expanding sports
gambling to just a handful of these large states could dramatically
reshape the national market, potentially increasing the industry‚Äôs size
by billions of dollars. At the same time, the states with more modest
projected markets tend to be smaller, more rural, or have demographic
profiles associated with lower gambling participation. While these
estimates cannot fully capture behavioral or cultural differences across
states, they provide a data-driven view of how rapidly the sports
gambling industry could grow and which populations may be most
vulnerable to associated harms if gambling becomes more widely
accessible.</p>
<p><strong>Limitations</strong></p>
<p>Some states that have legalized sports gambling were not included in
our model because the data automatically excluded certain states, such
as Florida and New Mexico. These states have specific policies that
alter the reporting of gambling revenue, and our data source did not
collect these. This led to a reduced sample size and may affect the
accuracy of our projected model.</p>
<p>Go back <a href="home.html">home</a></p>
</div>

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Simple Expansive Footer</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    
    .main-content {
      flex: 1;
      padding: 40px 20px;
      background: #f5f5f5;
    }

    .site-footer {
      background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
      color: #ffffff;
      padding: 80px 0 40px;
      margin-top: auto;
    }

    .footer-content {
      max-width: 900px;
      margin: 0 auto;
      padding: 0 40px;
      text-align: center;
    }

    .footer-team {
      font-size: 1.4rem;
      font-weight: 600;
      margin-bottom: 30px;
      color: #fff;
    }

    .footer-links {
      margin: 35px 0;
    }

    .footer-links a {
      color: #ffffff;
      text-decoration: none;
      font-size: 1.1rem;
      display: inline-flex;
      align-items: center;
      gap: 12px;
      padding: 15px 30px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 8px;
      transition: all 0.3s ease;
      border: 2px solid transparent;
    }

    .footer-links a:hover {
      background: rgba(255, 255, 255, 0.2);
      border-color: rgba(255, 255, 255, 0.3);
      transform: translateY(-2px);
    }

    .footer-links i {
      font-size: 1.3rem;
    }

    .footer-quote {
      font-size: 1.3rem;
      font-style: italic;
      margin: 40px 0;
      color: rgba(255, 255, 255, 0.95);
      padding: 25px;
      background: rgba(255, 255, 255, 0.08);
      border-radius: 10px;
      border-left: 4px solid rgba(255, 255, 255, 0.4);
    }

    .footer-copyright {
      font-size: 1rem;
      color: rgba(255, 255, 255, 0.85);
      margin-top: 40px;
      padding-top: 30px;
      border-top: 1px solid rgba(255, 255, 255, 0.2);
    }

    @media (max-width: 768px) {
      .site-footer {
        padding: 60px 0 30px;
      }

      .footer-content {
        padding: 0 20px;
      }

      .footer-team {
        font-size: 1.2rem;
      }

      .footer-links a {
        font-size: 1rem;
        padding: 12px 24px;
      }

      .footer-quote {
        font-size: 1.1rem;
        padding: 20px;
      }
    }
  </style>
</head>
<body>
  <div class="main-content">
    <h1>Your Page Content Here</h1>
    <p>This is where your main content goes. Scroll down to see the footer.</p>
  </div>

  <footer class="site-footer">
    <div class="footer-content">
      
      <p class="footer-team">
        Team: Zakari, Kimia, Lawrence & Sukhman
      </p>
      
      <p class="footer-links">
        <a href="https://github.com/zakbillo/sports-betting" target="_blank">
          <i class="fa fa-github fa-lg"></i> View Our Source Code
        </a>
      </p>
      
      <p class="footer-quote">
        "The house always wins... usually."
      </p>
      
      <div class="footer-copyright">
        2025 Data Science I (P8105) Final Project
      </div>
    </div>
  </footer>
</body>
</html>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
